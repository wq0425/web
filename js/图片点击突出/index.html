<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Image Wall with jQuery and CSS3</title>
		<meta charset="UTF-8" />
        <meta name="description" content="Image Wall with jQuery and CSS3" />
        <meta name="keywords" content="jquery, css3, images, wall, thumbnails, slide, animate"/>
		<meta name="author" content="Codrops" />
        <link rel="stylesheet" type="text/css" href="css/style.css" />
    </head>
    <body>
		<div class="content">
			<header>
	      <h1>IMOOC</h1>
			</header>
			<div class="iw_wrapper">
				<ul class="iw_thumbs" id="iw_thumbs">
					<li><img src="images/thumbs/1.jpg" data-img="images/full/1.jpg" alt="Thumb1"/><div><h2>Serenity</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/2.jpg" data-img="images/full/2.jpg" alt="Thumb2"/><div><h2>Silence</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/3.jpg" data-img="images/full/3.jpg" alt="Thumb3"/><div><h2>Abstraction</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/8.jpg" data-img="images/full/8.jpg" alt="Thumb8"/><div><h2>Happiness</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/9.jpg" data-img="images/full/9.jpg" alt="Thumb9"/><div><h2>Greatness</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/10.jpg" data-img="images/full/10.jpg" alt="Thumb10"/><div><h2>Abstraction</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/6.jpg" data-img="images/full/6.jpg" alt="Thumb6"/><div><h2>Virtue</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/7.jpg" data-img="images/full/7.jpg" alt="Thumb7"/><div><h2>Beauty</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/8.jpg" data-img="images/full/8.jpg" alt="Thumb8"/><div><h2>Happiness</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/12.jpg" data-img="images/full/12.jpg" alt="Thumb12"/><div><h2>Greatness</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/4.jpg" data-img="images/full/4.jpg" alt="Thumb4"/><div><h2>Attraction</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/5.jpg" data-img="images/full/5.jpg" alt="Thumb5"/><div><h2>Growth</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/6.jpg" data-img="images/full/6.jpg" alt="Thumb6"/><div><h2>Virtue</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/7.jpg" data-img="images/full/7.jpg" alt="Thumb7"/><div><h2>Beauty</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/10.jpg" data-img="images/full/10.jpg" alt="Thumb10"/><div><h2>Abstraction</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/11.jpg" data-img="images/full/11.jpg" alt="Thumb11"/><div><h2>Attraction</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/3.jpg" data-img="images/full/3.jpg" alt="Thumb3"/><div><h2>Virtue</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/13.jpg" data-img="images/full/13.jpg" alt="Thumb13"/><div><h2>Happiness</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/14.jpg" data-img="images/full/14.jpg" alt="Thumb14"/><div><h2>Serenity</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/2.jpg" data-img="images/full/2.jpg" alt="Thumb1"/><div><h2>Virtue</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/4.jpg" data-img="images/full/4.jpg" alt="Thumb2"/><div><h2>Serenity</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/11.jpg" data-img="images/full/11.jpg" alt="Thumb11"/><div><h2>Attraction</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/12.jpg" data-img="images/full/12.jpg" alt="Thumb12"/><div><h2>Virtue</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/13.jpg" data-img="images/full/13.jpg" alt="Thumb13"/><div><h2>Happiness</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/14.jpg" data-img="images/full/14.jpg" alt="Thumb14"/><div><h2>Serenity</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/2.jpg" data-img="images/full/2.jpg" alt="Thumb1"/><div><h2>Virtue</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/4.jpg" data-img="images/full/4.jpg" alt="Thumb2"/><div><h2>Serenity</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/6.jpg" data-img="images/full/6.jpg" alt="Thumb3"/><div><h2>Attraction</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/8.jpg" data-img="images/full/8.jpg" alt="Thumb4"/><div><h2>Serenity</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/12.jpg" data-img="images/full/12.jpg" alt="Thumb1"/><div><h2>Serenity</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/2.jpg" data-img="images/full/2.jpg" alt="Thumb2"/><div><h2>Silence</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/3.jpg" data-img="images/full/3.jpg" alt="Thumb3"/><div><h2>Abstraction</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/4.jpg" data-img="images/full/4.jpg" alt="Thumb4"/><div><h2>Attraction</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/5.jpg" data-img="images/full/5.jpg" alt="Thumb5"/><div><h2>Growth</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/6.jpg" data-img="images/full/6.jpg" alt="Thumb6"/><div><h2>Virtue</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/7.jpg" data-img="images/full/7.jpg" alt="Thumb7"/><div><h2>Beauty</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/8.jpg" data-img="images/full/8.jpg" alt="Thumb8"/><div><h2>Happiness</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/9.jpg" data-img="images/full/9.jpg" alt="Thumb9"/><div><h2>Greatness</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/10.jpg" data-img="images/full/10.jpg" alt="Thumb10"/><div><h2>Abstraction</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/11.jpg" data-img="images/full/11.jpg" alt="Thumb11"/><div><h2>Attraction</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/1.jpg" data-img="images/full/1.jpg" alt="Thumb12"/><div><h2>Virtue</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/13.jpg" data-img="images/full/13.jpg" alt="Thumb13"/><div><h2>Happiness</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/14.jpg" data-img="images/full/14.jpg" alt="Thumb14"/><div><h2>Serenity</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/2.jpg" data-img="images/full/2.jpg" alt="Thumb1"/><div><h2>Virtue</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/4.jpg" data-img="images/full/4.jpg" alt="Thumb2"/><div><h2>Serenity</h2><p>welcome to imooc!</p></div></li>
					<li><img src="images/thumbs/6.jpg" data-img="images/full/6.jpg" alt="Thumb3"/><div><h2>Attraction</h2><p>welcome to imooc!</p></div></li>
				</ul>
			</div>
			<div id="iw_ribbon" class="iw_ribbon">
				<span class="iw_close"></span>
				<span class="iw_zoom">Click thumb to zoom</span>
			</div>
		</div>
    </body>

    <script>
    	var ul = document.getElementById("iw_thumbs");
    	var box = document.getElementById("iw_ribbon");
    	var spns = box.getElementsByTagName("span");
    	var imgs = document.getElementsByTagName("img");
    	var timer = null;
    	var count = 0;

    	ul.onclick = fn;

    	function fn(e){
    		var e = e || window.event;
    		var tar = e.target || e.srcElement;
    		that = tar;
    		var img1 = tar.getAttribute("src");
    		var img2 = tar.getAttribute("data-img");
    		var img3 = tar.getAttribute("alt");
    		var img = "<img src="+img1+" data-img="+img2+" alt="+img3+"/>";
    		box.innerHTML = box.innerHTML + img;
    		imgg = box.lastElementChild;

    		next = tar.nextSibling;

    		x = e.pageX;
    		y = e.pageY;
    		w = e.clientWidth;
    		h = e.clientHeight;

    		top = tar.offsetTop;
    		left = tar.offsetLeft;

    		timer = setInterval( one , 50 )

    		spns[0].onclick = two;
    	}

    	function one(){
			count+=10;

			for(var i=0; i<imgs.length; i++){
				imgs[i].style.opacity = .3;
			}

			box.style.width = count + "%";
			box.style.display = "block";
			box.style.top = (y-box.offsetHeight/2) + "px";
			box.style.height = 180 + "px";

			spns[0].style.display = "block"
			spns[1].style.display = "block"

			imgg.style.position = "fixed";
			imgg.style.top = (y-imgg.offsetHeight/2) + "px";
			imgg.style.left = (x-imgg.offsetWidth/2) + "px";
			imgg.style.opacity = 1;

			next.style.display = "block";
			next.style.position = "fixed"
			next.style.top = (y-imgg.offsetHeight/3) + "px";
			next.style.left = (x+imgg.offsetWidth/2) + "px";

			that.style.opacity = 0;
			
			if( count >= 100 ){
				count = 90;
				clearInterval( timer )
				timer = null;
				ul.onclick = null;
			}
		}

		function two(){
			box.removeChild(imgg)
			that.style.opacity = 1
			for(var i=0; i<imgs.length; i++){
				imgs[i].style.opacity = 1;
			}
			timer = setInterval( function(){
				count-=10
				box.style.width = count + "%";
				next.style.display = "none"	
				if( count <= 0 ){
					count = 0;
					clearInterval( timer )
					timer = null;
					ul.onclick = fn;
				}
			} , 50 )
		}
    </script>
</html>