<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		*{margin:0;padding:0;}
		#small{position: fixed;right: 0;bottom: 0;display: none;}
		#small p,span{width: 100px;height: 50px;background: #000;text-align: center;line-height: 50px;border: 1px solid #fff;color: #fff;cursor: pointer;display: block;text-decoration: none;
			}
		#small p.bg{border: 1px solid #000;color: #000;cursor: pointer;background: #fff}
		#box div{width: 1000px;margin: 0 auto;color: #fff;text-align: center;font-size: 50px;}
		#one{height: 900px;background: red;line-height: 900px;}
		#two{height: 888px;background: green;line-height: 888px;}
		#three{height: 800px;background: blue;line-height: 777px;}
		#four{height: 700px;background: pink;line-height: 666px;}
		#five{height: 1111px;background: yellow;line-height: 1111px;}
		#six{height: 1000px;background: skyblue;line-height: 1000px;}
	</style>
</head>
<body>
	<div id="small">
		<p>1楼</p>
		<p>2楼</p>
		<p>3楼</p>
		<p>4楼</p>
		<p>5楼</p>
		<p>6楼</p>
		<span id="btn">顶楼↑</span>
	</div>
	<div class="box" id="box">
		<div id="one">一楼</div>
		<div id="two">二楼</div>
		<div id="three">三楼</div>
		<div id="four">四楼</div>
		<div id="five">五楼</div>
		<div id="six">六楼</div>
	</div>
	<script src="jquery-1.8.3.min.js"></script>
	<script>
		var arr = []
		$("#box div").each(function(){
			arr.push($(this).offset().top)
		})

		$(document).on("scroll",function(){
			var t = $(this).scrollTop()
			if( t > 10 ){
				$("#small").css("display","block")
			}
			else{
				$("#small").css("display","none")
			}
			$.each(arr,function(i,n){
				if( t > n - 600 ){
					$("#small p").eq(i).addClass("bg").siblings().removeClass("bg")
				}
			})
			$("#small p").on("click",function(){
				var ind = $(this).index()
				$(document).scrollTop(arr[ind])
			})
			$("#btn").on("click",function(){
				$(document).scrollTop(0)
			})
		})
	</script>
</body>
</html>